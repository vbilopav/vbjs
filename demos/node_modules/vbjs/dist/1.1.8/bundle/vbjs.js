/* vbjs 1.1.8 */
!function(){const configure=()=>{define('sys/app',[],()=>window[requirejs.s.contexts._.config.__appObjName]);define('sys/extensions/HTMLElement/addClass',["sys/models/test-proto"],s=>{s(HTMLElement,["addClass"]),HTMLElement.prototype.addClass=function(s){return this.classList?this.classList.add(s):this.className+=` ${s}`,this}});define('sys/extensions/HTMLElement/attr',["sys/models/test-proto"],t=>{t(HTMLElement,["attr"]),HTMLElement.prototype.attr=function(t,e){return void 0===e?this.getAttribute(t):(this.setAttribute(t,e),this)}});define('sys/extensions/HTMLElement/css',["sys/models/test-proto","sys/extensions/String/toCamelCase"],s=>{s(HTMLElement,["css","_styles"]),HTMLElement.prototype.css=function(s,t){if(!this._styles){this._styles={};const s=window.getComputedStyle(this);for(let t in s)if(s.hasOwnProperty(t)){if(!isNaN(t))continue;this._styles[t]=s[t]}}if(void 0!==t)return this._styles[s]=t,this.style[s]=t,this;const e=this._styles[s];return void 0===e?this._styles[s.toCamelCase()]:e}});define('sys/extensions/HTMLElement/data',["sys/models/test-proto"],t=>{t(HTMLElement,["data","_data"]),HTMLElement.prototype.data=function(t,a){return this._data||(this._data=Object.assign({},this.dataset)),void 0!==a?(this._data[t]=a,this):this._data[t]}});define('sys/extensions/HTMLElement/find',["sys/models/test-proto","sys/extensions/String/createElement"],e=>{e(HTMLElement,["find"]),HTMLElement.prototype.find=function(e){let t=this.querySelector(e);return t?(t.length=1,t):((t="dummy".createElement()).length=0,t)}});define('sys/extensions/HTMLElement/findAll',["sys/models/test-proto"],e=>{e(HTMLElement,["findAll"]),HTMLElement.prototype.findAll=function(e){return this.querySelectorAll(e)}});define('sys/extensions/HTMLElement/forEachChild',["sys/models/test-proto"],t=>{t(HTMLElement,["forEachChild"]),HTMLElement.prototype.forEachChild=function(t=(()=>{}),e=!1){e&&t(this);for(let e=0,h=this.children.length;e<h;e++)this.children[e].forEachChild(t,!0);return this}});define('sys/extensions/HTMLElement/hasClass',["sys/models/test-proto"],s=>{s(HTMLElement,["hasClass"]),HTMLElement.prototype.hasClass=function(s){return this.classList?this.classList.contains(s):new RegExp(`(^| )${s}( |$)`,"gi").test(this.className)}});define('sys/extensions/HTMLElement/hide',["sys/models/test-proto","sys/extensions/HTMLElement/css"],e=>{e(HTMLElement,["hide"]),HTMLElement.prototype.hide=function(){return this.css("display","none"),this}});define('sys/extensions/HTMLElement/html',["sys/models/test-proto"],t=>{t(HTMLElement,["html"]),HTMLElement.prototype.html=function(t){return void 0===t?this.innerHTML:(this.innerHTML=t,this)}});define('sys/extensions/HTMLElement/off',["sys/models/test-proto"],e=>{e(HTMLElement,["off"]),HTMLElement.prototype.off=function(e,t){for(let o of e.split(" "))this.removeEventListener(o,t);return this}});define('sys/extensions/HTMLElement/on',["sys/models/test-proto"],t=>{t(HTMLElement,["on"]),HTMLElement.prototype.on=function(t,e){for(let n of t.split(" "))this.addEventListener(n,e);return this}});define('sys/extensions/HTMLElement/overflownX',["sys/models/test-proto"],t=>{t(HTMLElement,["overflownX"]),HTMLElement.prototype.overflownX=function(){return this.scrollWidth>this.clientWidth}});define('sys/extensions/HTMLElement/overflownY',["sys/models/test-proto"],e=>{e(HTMLElement,["overflownY"]),HTMLElement.prototype.overflownY=function(){return this.scrollHeight>this.clientHeight}});define('sys/extensions/HTMLElement/removeClass',["sys/models/test-proto"],s=>{s(HTMLElement,["removeClass"]),HTMLElement.prototype.removeClass=function(s){return this.classList?this.classList.remove(s):this.className=this.className.replace(new RegExp(`(^|\\b)${s.split(" ").join("|")}(\\b|$)`,"gi")," "),this}});define('sys/extensions/HTMLElement/setFocus',["sys/models/test-proto"],t=>{t(HTMLElement,["setFocus"]),HTMLElement.prototype.setFocus=function(){return this.focus(),this}});define('sys/extensions/HTMLElement/show',["sys/models/test-proto","sys/extensions/HTMLElement/css"],s=>{s(HTMLElement,["show"]),HTMLElement.prototype.show=function(s){return void 0===s||s?(this.css("display",""),this):this.hide()}});define('sys/extensions/HTMLElement/toggleClass',["sys/models/test-proto"],s=>{s(HTMLElement,["toggleClass"]),HTMLElement.prototype.toggleClass=function(s,t){return void 0!==t?(t?this.addClass(s):this.removeClass(s),this):(this.hasClass(s)?this.removeClass(s):this.addClass(s),this)}});define('sys/extensions/HTMLElement/trigger',["sys/models/test-proto"],t=>{t(HTMLElement,["trigger"]),HTMLElement.prototype.trigger=function(t){for(let e of t.split(" "))this.dispatchEvent(new Event(e));return this}});define('sys/extensions/HTMLElement/visible',["sys/models/test-proto","sys/extensions/HTMLElement/css"],i=>{i(HTMLElement,["visible"]),HTMLElement.prototype.visible=function(i){return void 0===i||i?(this.css("visibility","visible"),this):this.css("visibility","hidden")}});define('sys/extensions/String/createElement',["sys/template/html","sys/models/test-proto"],(t,e)=>{e(String,["createElement"]),String.prototype.createElement=function(e,n){return t.tagToElement(this,e,n)}});define('sys/extensions/String/hashCode',["sys/models/test-proto"],t=>{t(String,["hashCode"]),String.prototype.hashCode=function(){let t=0;for(let e=0,o=this.length;e<o;e++){t=(t<<5)-t+this.charCodeAt(e),t&=t}return t}});define('sys/extensions/String/html',["sys/models/test-proto"],t=>{t(String,["html"]),String.html=((t,...r)=>String.raw(t,...r))});define('sys/extensions/String/toCamelCase',["sys/models/test-proto"],e=>{e(String,["toCamelCase"]),String.prototype.toCamelCase=function(){return this.replace(/-([a-z,0-9])/g,e=>e[1].toUpperCase())}});define('sys/extensions/String/toHTML',["sys/template/html","sys/models/test-proto"],(t,e)=>{e(String,["toHTML"]),String.prototype.toHTML=function(){return t.strToElement(this)}});define('sys/models/model',["sys/extensions/HTMLElement/forEachChild"],()=>(class{constructor({model:t,oncreate:e=(()=>{})}={}){this._model=t,this._oncreate=e||(()=>{}),this._instance=void 0,this._names=[],this._oncreate=e}bind(t,e){return this._instance=e||Object.assign({},this),this._model?t.forEachChild(t=>this._forEachProgrammatic(t)):t.forEachChild(t=>this._forEachDeclarative(t)),this}each(t){for(let e of this._names)t(this[e],e)}_forEachDeclarative(t){this._assignProps(t.name||t.id,t)}_forEachProgrammatic(t){const e=this._model;for(let s in e){if(!e.hasOwnProperty(s))continue;const i=e[s];"string"==typeof i?i!==t.name&&i!==t.id||this._assignProps(s,t):i(t)&&this._assignProps(s,t)}}_assignEvents(t){const e=t.attributes;for(let s=0,i=e.length;s<i;s++){const i=e[s],n=i.name;if(!n.startsWith("on"))continue;const a=this._instance[i.value.toCamelCase()];if("function"!=typeof a)continue;t.removeAttribute(n);const o=this._instance;t.on(n.replace("on","").toLowerCase(),function(){a.call(o)})}}_assignValue(t,e,s){"SELECT"===t||"INPUT"===t?"INPUT"===t&&"checkbox"===e.type?e.checked=s:e.value=s:(e.html(s),"A"===t&&(e.href=s))}_getValue(t,e){return"SELECT"===t?e.options[e.selectedIndex]:e}_assignProps(t,e){if(this._assignEvents(e),!t)return!1;-1!==t.indexOf("-")&&(t=t.toCamelCase());const s=e.nodeName,i=this;Object.defineProperty(this,t,{get:()=>i._getValue(s,e),set:t=>i._assignValue(s,e,t)}),this._names.push(t),this._oncreate(e);const n=this._instance[t];return void 0===n||(this._assignValue(s,e,n),!0)}}));define('sys/models/test-proto',[],()=>(r,e,o=!0)=>{for(let i of e)if(void 0!==r.prototype[i]){if(o)throw new Error(`Error: Name collision - object ${r} already have defined "${i}" !`);return!1}return!0});define('composite',["module","sys/template/parser","sys/template/import","sys/template/tags"],(e,s,t,p)=>({version:"1.0.0",load(e,a,r){a(["text!"+e],a=>t.parseImportsAsync(a).then(()=>r((t,r)=>s.parseComposite(p.parse(a),t,r,e))))}}));define('document',["module","sys/template/parser","sys/template/import","sys/template/tags"],(e,t,n,s)=>({version:"1.0.0",load(e,m,r){const l=document.getElementById(e)||document.getElementsByName(e);if(!l||l.length&&0===l.length)throw new Error(`Element ${e} couldn't be found!`);const o="textarea".createElement();o.html(l.html());const a=o.innerText;l.remove(),n.parseImportsAsync(a).then(()=>r((n,m)=>t.parseTemplate(s.parse(a),n,m,e)))}}));define('extension',["module","sys/models/test-proto"],(o,t)=>{const e=(o,e)=>{"NodeList"==o?(t(NodeList,[e]),NodeList.prototype[e]=function(...o){for(let t of this)t[e](...o);return this}):(t(window[o],[e]),window[o].prototype[e]=HTMLElement.prototype[e])};return{version:"1.0.0",load(o,t,n,i){const[s,r]=o.split("/");if(!["NodeList","Document","Window"].includes(s))throw new Error(`"${o}" is not valid element for extension!`);window[s].prototype[r]?(e(s,r),n()):t(["sys/extensions/HTMLElement/"+r],()=>{window[s].prototype[r]||e(s,r),n()})}}});define('template',["module","sys/template/parser","sys/template/import","sys/template/tags"],(e,s,t,a)=>({version:"1.0.0",load(e,p,r){p(["text!"+e],p=>t.parseImportsAsync(p).then(()=>r((t,r)=>s.parseTemplate(a.parse(p),t,r,e))))}}));define('text',["module"],()=>({version:"1.0.0",load(e,t,n){fetch(t.toUrl(e)).then(e=>e.text()).then(e=>n(e))}}));define('sys/single-view-app',["sys/app"],e=>t=>{let n;return e.queryString=document.location.search?(e=>e.slice(e.indexOf("?")+1).match(/[\w\d%\-!.~'()\*]+=[\w\d%\-!.~'()\*]+/g).map(e=>e.split("=").map(decodeURIComponent)).reduce((e,[t,n])=>Object.assign(e,{[t]:n}),{}))(document.location.search):{},e.config.view.startsWith("document!")&&!t?(t=e.config.view.replace("document!",""),n=(document.getElementById(t)||document.getElementsByName(t)).parentElement):n=document.getElementById(t).html(""),e.render(e.config.view,n,Object.assign({},e.queryString))});define('sys/spa/router',[],()=>(class{constructor({navigate:e=(()=>{}),leave:t=(()=>{}),error:a=(()=>{}),hash:h="#",test:r=(e=>/^[ A-Za-z0-9_@()/.-]*$/.test(e)),routes:s=(()=>{throw s})()}){this._navigate=e,this._leave=t,this._error=a,this._hash=h,"#"===this._hash||"#!"===this._hash||(()=>{throw this._hash})(),this._test=r,s instanceof Array&&(s=s.reduce(function(e,t,a){return e[t]={},e},{})),this._routes={};for(let e in s){let t=s[e];this._test(e)||(()=>{throw e})(),this._routes[e]={id:t.id||e.replace(/\//g,"-").replace("-","").toCamelCase(),name:e,view:t.view,paramsMap:t.paramsMap||(e=>0===e.length&&{}),data:t.data}}this._current=void 0,this._manager={reveal:({id:e,view:t,params:a,uri:h})=>new Promise(e=>e()),leave:(e,t)=>this._manager}}useViewManager(e=(()=>{throw e})()){return this._manager=e,this}start(){this._onChangeEvent(void 0,!0);var e=this;return window.on("hashchange",t=>{e._onChangeEvent.call(e,t)}),this}getData(){return Object.keys(this._routes).map(e=>{let t=this._routes[e],a=t.data||{};return a.url=document.location.pathname+this._hash+e,a.id=t.id,a.active=this._current===t,a})}navigate(e){return document.location.hash=this._hash+e,this}reveal(e){return this._onChangeEvent({newHash:this._hash+e}),this}_onChangeEvent(e={newHash:document.location.hash},t=!1){!e.newHash&&e.newURL&&(e.newHash=e.newURL.replace(document.location.origin+document.location.pathname,""));let a,h,r,s,i,n,o,u,_=e.newHash.replace(this._hash,""),l=_.split("/").map(e=>decodeURIComponent(e)),c="";for(s=0,i=l.length;s<i;s++){let e=l[s];c=c.endsWith("/")?c+e:c+"/"+e,((h=this._routes[c])&&!a||h&&a.name.length<h.name.length)&&(a=h,n=s+1)}a&&(""==l[l.length-1]&&l.splice(-1,1),r=a.paramsMap(l.slice(n))),void 0!==a&&r?(this._current&&(o=this._current.id,u=this._current.elementId),this._manager.leave(o,u).reveal({id:a.id,view:a.view,params:r,uri:_}).then(e=>{t||this._leave({router:this,route:this._current}),this._current=a,this._current.elementId=e,this._navigate({router:this,route:a,params:r})})):this._error({router:this,uri:_})}}));define('sys/spa/view-manager',["sys/view-manager/utils","sys/view-manager/reveal","sys/app"],(e,{reveal:t,revealComponents:n},i)=>(class{constructor(e=(()=>{throw e})()){this._container=e,this._views={},this._current}leave(e){if(void 0===e)return this;let t=this._views[e];return t?(t.x=window.pageXOffset,t.y=window.pageYOffset,this):this}async reveal({id:s="",view:a=(()=>{throw a})(),params:r={},uri:h=""}){r instanceof Promise&&(r=await r),"object"!=typeof r&&(r={value:r}),await new Promise((l,o)=>{let p=this._views[s],d=h.hashCode(),c=e.getId(d);if(this._current&&this._current.hide(),p){if(p.type===e.types.string)return this._current=p.element.show(),e.showView(p,p.element),l(p.element.id);let t=this._container.find("#"+c);if(p.type===e.types.template){if(t.length||(t="span".createElement(c),this._container.appendChild(t)),p.uriHash!==d){let i=p.instance(r);"string"==typeof i?(t.html(i),n(t,r.template,r),e.templateRendered(r,t)):i instanceof HTMLElement?(t.html("").appendChild(i),n(t,r.template,r),e.templateRendered(r,t)):i instanceof Promise&&i.then(i=>{"string"==typeof i?t.html(i):t.html("").appendChild(i),n(t,r.template,r),e.templateRendered(r,t)})}return this._current=t.show(),e.showView(p,t),l(t.id)}if(t.length||(t=this._container.find("[data-id='"+s+"']")).length&&(t.id=c),t.length||(t="span".createElement(c),this._container.appendChild(t)),p.type===e.types.class){let s=()=>{this._current=t.show(),e.showView(p,t),p.uriHash=d};if(p.uriHash!==d||p.instance._options.disableCaching){let a;p.instance.change?a=p.instance.change({params:r,element:t}):p.instance._options.callRenderOnlyOnce||(a=p.instance.render({params:r,element:t}));let h=a=>{"function"==typeof a||a instanceof Array?(a=i.parse(...a)).then(e=>{"string"==typeof e?t.html(e).show():(t.html("").appendChild(e),t.show())}):("string"==typeof a||a instanceof HTMLElement)&&("string"==typeof a?t.html(a).show():(t.html("").element(a),t.show())),n(t,p.instance._options,p.instance),e.moduleRendered(p.instance,{params:r,element:t},!1),s()};return"function"==typeof a&&(a=i.parse(a)),a instanceof Array&&(a=i.parse(...a)),a instanceof Promise?a.then(e=>(h(e),l(t.id))):(h(a),l(t.id))}return s(),l(t.id)}return o("unknown type")}t({id:s,view:a,params:r,uri:h,elementOrId:c}).then(t=>(this._views[s]=t.data,this._container.appendChild(t.element),this._current=t.element,e.showView(t.data,t.element),l(t.element.id)))})}}));define('sys/template/helpers',[],()=>(function(){return{forEach:(t,e)=>(t instanceof Array?t:Object.entries(t||{})).map((t,n)=>e(...t instanceof Array?t:[t],n)).join(""),import:t=>require(t),css:{import:(...t)=>{document.head.appendChild(`<style type="text/css">\n                            ${t.map(t=>require(t.startsWith("text!")?t:"text!"+t)).join("")}\n                        </style>`.toHTML())}},if:(t,e,n)=>t?e:n}}));define('sys/template/html',[],()=>{const e=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),t},t=(e,t,n)=>{let r="object"==typeof e?document.createElement(e.toString()):document.createElement(e);return t&&(r.id=t),n&&r.html(n),r};return{tagToElement:t,strToElement:t=>e(t).content.firstChild,strToElements:t=>e(t).content.childNodes,stripHtml:e=>{var n=t("div");return n.innerHTML=e,n.textContent||n.innerText||""}}});define('sys/template/import',["sys/app"],app=>{const preloaded=1==app.settings.usePreloadedTemplates,searchImport=".import(",searchImportLen=searchImport.length,parseImportsAsync=text=>new Promise(resolve=>{preloaded&&resolve();let from=0,found=[];for(;from>-1;){let index=text.indexOf(searchImport,from);if(-1===index)break;index+=searchImportLen,from=text.indexOf(")",index),-1!==from&&(found=found.concat(eval("["+text.substring(index,from)+"]")),"css"===text.substring(index-11,index-8)&&(found=found.map(e=>e.startsWith("text!")?e:"text!"+e)))}found.length?require(found,()=>resolve()):resolve()});return{parseImportsAsync:parseImportsAsync}});define('sys/template/parser',["sys/template/helpers","sys/template/import","sys/app"],(e,t,n)=>{n.template=((e,...t)=>{let n=[];for(let e=0,a=t.length;e<a;e++){let a=t[e];if("function"==typeof a){let n=a();a=void 0===n||"function"==typeof n?"":n,t[e]=a}a instanceof Promise&&n.push({index:e,sub:a}),void 0!==a&&"object"!=typeof a||(t[e]="")}return n.length?(async()=>{for(let e=0,a=n.length;e<a;e++){let a=n[e],i=await a.sub;if("function"==typeof i){let e=i();e instanceof Promise&&(e=await e),i=void 0===e||"function"==typeof e?"":e}t[a.index]=void 0===i||"object"==typeof i?"":i}return String.raw(e,...t)})():String.raw(e,...t)}),n.composite=((e,...t)=>t);const a=(t,n,a)=>{if((t=t||{}).template||(t.template=e()),a&&(t.template=Object.assign(t.template,a)),t.template.name=n,t.___extra){for(let[e,n]of Object.entries(t.___extra))t.template[e]=n;delete t.___extra}return t},i=(e,t,i,o)=>new Function("return "+n.config.name+".template`"+e+"`;").call(a(t,o,i));return n.parse=(async(e,n,a,o)=>{let r;if("string"==typeof e)r=e;else{let t=(r=e.toString()).indexOf("`",0);if(-1===t)throw new Error("Invalid template");r=r.substring(t+1,r.lastIndexOf("`"))}return await t.parseImportsAsync(r),await i(r,n,a,o)}),{parseTemplate:i,parseComposite:(e,t,i,o)=>new Function("return "+n.config.name+".composite`"+e+"`;").call(a(t,o,i))}});define('sys/template/tags',["sys/app"],s=>({parse:i=>s.settings.stripScriptTagsInTemplates?-1===i.indexOf("<s")?i:i.split(/<script>/).join("").split(/<\/script>/).join(""):i}));define('sys/view-manager/components',["sys/app"],e=>(e.customElements={_components:[],_define:({tag:t,src:n,wrap:s})=>{s||(s=t);let o=t.indexOf("-");if(-1===o||0===o||o===t.length-1)throw new Error("Invalid tag name. Tags names should include at least one dash, not on start or end of tag name.");e.customElements._components[t.toUpperCase()]={src:n,wrap:s}},define:(...t)=>{for(let n of t)e.customElements._define(n);return e.customElements}},{getTags:()=>Object.keys(e.customElements._components),getEntry:t=>e.customElements._components[t.toUpperCase()]}));define('sys/view-manager/reveal',["sys/view-manager/utils","sys/app","sys/view-manager/components"],(e,t,{getEntry:n,getTags:a})=>{const r=(e,t,a)=>{if(!t.includes(e.nodeName))return;const r=n(e.nodeName);if(!r)return;found=!0;const s={},i=r.wrap.createElement();for(let t=0,n=e.attributes.length;t<n;t++){let n=e.attributes[t];s[n.name.toCamelCase()]=n.value,i.setAttribute(n.name,n.value)}if(s.html=e.html(),e.parentElement.insertBefore(i,e),e.remove(),a){s.___extra=Object.assign(s.___extra||{},{parent:a});let e=s.name||s.id;e&&((a=a.template||a).children=a.children||{},a.children[e.toCamelCase()]=s)}return new MutationObserver(e=>{for(let t of e){if(!t.attributeName)continue;const e=t.attributeName.toCamelCase(),n=t.target.getAttribute(t.attributeName);s.template&&(!s.template[e]||s.template[e](n)),s.__parent&&(s.__parent[e]=n)}}).observe(i,{attributes:!0,childList:!1,subtree:!1}),{view:r.src,elementOrId:i,params:s}},s=(e,t,n)=>{let a=t.components;if(!a||!a.length)return;const s=[];e.forEachChild(e=>{let t=r(e,a,n);t&&s.push(t)});const o=new MutationObserver(e=>{for(let t of e)if(t.addedNodes&&t.addedNodes.length)for(let e of t.addedNodes){let t=r(e,a,n);o.takeRecords(),t&&i(t)}}),l={attributes:!1,childList:!0,subtree:!0};return s.length?Promise.all(s.map(e=>i(e))).then(t=>{o.observe(e,l)}):o.observe(e,l),o},i=({id:n="",view:r=(()=>{throw r})(),params:i={},uri:o="",elementOrId:l=(()=>{throw l})()})=>new Promise(p=>{let m,c;if("string"==typeof r?(m=r,c=[r]):"object"==typeof r&&(m=r.name,c=r.inject?[m].concat(r.inject):[m]),!m||!c)throw new Error("View definition incorrect!");require(c,(r,...c)=>{const d=o.hashCode(),f=e.getViewType(r,m),h="string"==typeof l?"span".createElement(l):l,u={type:f,uriHash:d,x:0,y:0,id:n};n&&(h.dataset.id=n);const _=()=>{const n=n=>{"function"==typeof n||n instanceof Array?(n=t.parse(...n)).then(e=>{"string"==typeof e?h.html(e):h.html("").appendChild(e)}):("string"==typeof n||n instanceof HTMLElement)&&("string"==typeof n?h.html(n):h.html("").appendChild(n)),s(h,u.instance._options,u.instance),e.moduleRendered(u.instance,{params:i,element:h})};if(f===e.types.class){let e=u.instance.render({params:i,element:h});return("function"==typeof e||e instanceof Array)&&(e="function"==typeof e?t.parse(e):t.parse(...e)),e instanceof Promise?e.then(e=>(n(e),p({data:u,element:h}))):(n(e),p({data:u,element:h}))}return p({data:u,element:h})};if(f===e.types.string)return u.element=h.html(r),_();if(f===e.types.template){u.instance=r,i.___extra=Object.assign(i.___extra||{},{components:null,watch:(...e)=>{e&&e.length||(e=a()),i.template.components=e.map(e=>e.toUpperCase())}});const t=r(i,{injected:c});return"string"==typeof t?(h.html(t),s(h,i.template,i),e.templateRendered(i,h)):t instanceof HTMLElement?(h.html("").appendChild(t),s(h,i.template,i),e.templateRendered(i,h)):t instanceof Promise&&t.then(t=>{"string"==typeof t?h.html(t):h.html("").appendChild(t),s(h,i.template,i),e.templateRendered(i,h)}),_()}if(f===e.types.class){const e={disableCaching:!1,callRenderOnlyOnce:!1,css:[],components:null,watch:(...t)=>{t&&t.length||(t=a()),e.components=t.map(e=>e.toUpperCase())}};if(u.instance=new r({id:n,element:h,options:e},...c),u.instance._options=e,i.__parent=u.instance,i.___extra){for(let[e,t]of Object.entries(i.___extra))u.instance[e]=t;delete i.___extra}if(!e.css||!e.css.length)return _();require(e.css.map(e=>e.startsWith("text!")?e:"text!"+e),(...e)=>(document.head.appendChild(`<style type="text/css">\n                                    ${e.join("")}\n                                </style>`.toHTML()),_()))}})});return{reveal:i,revealComponents:s}});define('sys/view-manager/utils',["sys/view-manager/components"],({getTags:e})=>{const t={template:1,class:2,string:3};return moduleRendered=((e,t,n=!0)=>{e._options.model instanceof _app.Model==!1&&(e._options.context||e._options.model)&&(e.model=new _app.Model(e._options.model).bind(t.element,e._options.context)),n?!e.rendered||e.rendered({params:t.params,element:t.element}):e.changed?e.changed({params:t.params,element:t.element}):e.rendered&&e.rendered({params:t.params,element:t.element})}),{getId:e=>"_view-"+e,types:t,getViewType:(e,n)=>{let d=typeof e;if("function"===d)return(e=>-1!==e.indexOf("template!")||-1!==e.indexOf("document!"))(n)?t.template:t.class;if("string"===d)return t.string;throw new Error("unknown view type "+e)},showView:e=>{window.scrollTo(e.x,e.y)},templateRendered:(e,t)=>{(e.template.context||e.template.model)&&(e.template.model=new _app.Model(e.template.model).bind(t,e.template.context)),!e.template.rendered||e.template.rendered(t)},moduleRendered:moduleRendered}});define('sys/main',['sys/app','sys/models/model','sys/view-manager/reveal','sys/extensions/HTMLElement/find','sys/extensions/HTMLElement/findAll','sys/extensions/HTMLElement/forEachChild','sys/extensions/HTMLElement/show','sys/extensions/HTMLElement/hide','sys/extensions/HTMLElement/on','sys/extensions/HTMLElement/html','sys/extensions/String/hashCode','sys/extensions/String/html','sys/extensions/String/toHTML','extension!Window/on','extension!Window/off','sys/extensions/HTMLElement/addClass','sys/extensions/HTMLElement/removeClass','sys/template/parser','sys/view-manager/components','sys/extensions/HTMLElement/attr','sys/extensions/HTMLElement/css','sys/extensions/HTMLElement/data','sys/extensions/HTMLElement/hasClass','sys/extensions/HTMLElement/off','sys/extensions/HTMLElement/overflownX','sys/extensions/HTMLElement/overflownY','sys/extensions/HTMLElement/setFocus','sys/extensions/HTMLElement/toggleClass','sys/extensions/HTMLElement/trigger','sys/extensions/HTMLElement/visible','sys/extensions/String/createElement','sys/extensions/String/toCamelCase','sys/models/test-proto','composite','document','extension','template','text','sys/single-view-app','sys/spa/router','sys/spa/view-manager','sys/template/helpers','sys/template/html','sys/template/import','sys/template/tags','sys/view-manager/utils'],(e,s,{reveal:n})=>{e.Model=s,e.import=(e=>new Promise(s=>require([e],e=>s(e)))),e.fetch=(async(e,s)=>await(await fetch(e,s)).json()),e.render=(async(e,s,t)=>await n({view:e,elementOrId:s,params:t})),require([e.config.module],s=>s(e.config.elementId))});},defaults={version:"",appUrl:"/",cssUrl:"css",libsUrl:null,appModule:"sys/single-view-app",appElementId:"app",appObjectName:"_app"},relative=(e,t)=>{const s=function(){let e="",t=!1;for(let s=arguments.length-1;s>=-1&&!t;s--){let l=s>=0?arguments[s]:"";e=l+"/"+e,t="/"===l[0]}return e=((e,t)=>{let s=[];for(let l=0;l<e.length;l++){let r=e[l];r&&"."!==r&&(".."===r?s.length&&".."!==s[s.length-1]?s.pop():t&&s.push(".."):s.push(r))}return s})(e.split("/"),!t).join("/"),(t?"/":"")+e||"."};e=s(e).substr(1),t=s(t).substr(1);let l=e.split("/").filter(e=>0!==e.length),r=t.split("/").filter(e=>0!==e.length),a=Math.min(l.length,r.length),i=a;for(let e=0;e<a;e++)if(l[e]!==r[e]){i=e;break}let n=[];for(let e=i;e<l.length;e++)n.push("..");return(n=n.concat(r.slice(i))).join("/")},scr=document.currentScript,dev=null===scr.getAttribute("data-dev")||eval(scr.getAttribute("data-dev")),version=null===scr.getAttribute("data-version")?defaults.version:scr.getAttribute("data-version"),appUrl=null===scr.getAttribute("data-app-url")?defaults.appUrl:scr.getAttribute("data-app-url"),cssUrl=null===scr.getAttribute("data-css-url")?defaults.cssUrl:scr.getAttribute("data-css-url"),sysUrl=scr.getAttribute("src").replace("vbjs.js",""),appModule=null===scr.getAttribute("data-app-module")?defaults.appModule:scr.getAttribute("data-app-module"),viewModule=scr.getAttribute("data-view-module"),appElementId=null===scr.getAttribute("data-app-container-id")?defaults.appElementId:scr.getAttribute("data-app-container-id"),appObjectName=scr.getAttribute("data-app-object-name")||defaults.appObjectName,settings=eval("("+scr.getAttribute("data-settings")+")")||{usePreloadedTemplates:!1,stripScriptTagsInTemplates:!0},cssFilesattrValue=scr.getAttribute("data-css-files");let libsUrl=null===scr.getAttribute("data-libs-url")?defaults.libsUrl:scr.getAttribute("data-libs-url");window[appObjectName]={dev:dev,version:version,appUrl:appUrl,cssUrl:cssUrl,sysUrl:sysUrl,settings:settings,config:{module:appModule,view:viewModule,elementId:appElementId,name:appObjectName},relative:relative},libsUrl||(libsUrl=sysUrl.substring(0,sysUrl.indexOf("vbjs"))),window[appObjectName].libsUrl=libsUrl;const sysPath=relative(appUrl,sysUrl),libsPath=relative(appUrl,libsUrl);window[appObjectName].version&&(window.require.urlArgs="v="+window[appObjectName].version);const cssFiles=null!==cssFilesattrValue?eval("["+cssFilesattrValue+"]"):[];if(cssFiles.length)for(let e=0,t=cssFiles.length;e<t;e++){let t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=cssUrl+(cssUrl.endsWith("/")?"":"/")+cssFiles[e]+(version?"?"+require.urlArgs:""),t.media="all",document.head.appendChild(t)}window.require={baseUrl:window[appObjectName].appUrl,__appObjName:appObjectName,paths:{libs:libsPath,sys:sysPath,text:sysPath+"/require-plugins/text",template:sysPath+"/require-plugins/template",document:sysPath+"/require-plugins/document",composite:sysPath+"/require-plugins/composite","cors-text":sysPath+"/require-plugins/cors-text","cors-template":sysPath+"/require-plugins/cors-template",extension:sysPath+"/require-plugins/extension"}};const loadLoader=(e,t)=>{let s=document.createElement("script");s.async=!0,s.src=e,s.setAttribute("data-main","sys/main"),document.body.appendChild(s),s.onload=t,s.onerror=t};loadLoader("https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js",()=>{window.requirejs?configure():loadLoader(libsUrl+"requirejs/require.js",configure)})}();